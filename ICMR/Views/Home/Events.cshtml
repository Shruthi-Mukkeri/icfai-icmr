@model List<ICMR.Models.ICMREvent>

@{
    ViewBag.Title = "Events List";
}

<h2>Events List</h2>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Title</th>
            <th>Type</th>
            <th>Event Date</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Image</th>
            <th>PDF</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var eventItem in Model)
        {
        <tr>
            <td>@eventItem.Title</td>
            <td>@eventItem.Type</td>
            <td>@(eventItem.EventDate.HasValue ? eventItem.EventDate.Value.ToShortDateString() : "N/A")</td>
            <td>@(eventItem.StartDate.HasValue ? eventItem.StartDate.Value.ToShortDateString() : "N/A")</td>
            <td>@(eventItem.EndDate.HasValue ? eventItem.EndDate.Value.ToShortDateString() : "N/A")</td>
            <td>
                @if (!string.IsNullOrEmpty(eventItem.Image))
                {
                    <img src="~/Uploads/Images/@eventItem.Image" alt="Event Image" width="80" height="80" />
                }
            </td>
            <td>
                @if (!string.IsNullOrEmpty(eventItem.Pdf))
                {
                    <a href="~/Uploads/PDFs/@eventItem.Pdf" target="_blank">View PDF</a>
                }
            </td>
            <td>
                <a href="@Url.Action("EditEvent", "Home", new { id = eventItem.EventId })" class="btn btn-warning">Edit</a>
                <a href="@Url.Action("DeleteEvent", "Home", new { id = eventItem.EventId })" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this event?');">Delete</a>
            </td>
        </tr>
        }
    </tbody>
</table>

<a href="@Url.Action("AddEvents", "Home")" class="btn btn-primary">Add New Event</a>
