@model ICMR.Models.IcmrModel

<section class="container mt-5">
    <h2>Payment Page</h2>

    @if ((Model.Items != null && Model.Items.Any()) || (Model.ShortItems != null && Model.ShortItems.Any()))
    {
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Price (₹)</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Items)
                {
                    <tr>
                        <td>@item.casetitle</td>
                        <td>₹ @item.pricers</td>
                    </tr>
                }
                @foreach (var item in Model.ShortItems)
                {
                    <tr>
                        <td>@item.casetitle</td>
                        <td>₹ @item.pricers</td>
                    </tr>
                }
            </tbody>
        </table>

        <h3>Total Amount: ₹ @Model.TotalAmount</h3>
        <hr />

        @*<form action="@Url.Action("SubmitBillingDetails", "Home")" method="post">
                @Html.AntiForgeryToken()

                <h4>Personal Mailing Details</h4>

                <div class="form-group mb-2">
                    <label>First Name</label>
                    <input type="text" name="first_name" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>Last Name</label>
                    <input type="text" name="last_name" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>Email</label>
                    <input type="email" name="email" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>Mobile Number</label>
                    <input type="text" name="mobile_phone" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>GST Number</label>
                    <input type="text" name="OrgGST" class="form-control" />
                </div>

                <div class="form-group mb-2">
                    <label>Address</label>
                    <input type="text" name="add1" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>City</label>
                    <input type="text" name="city" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>State</label>
                    <input type="text" name="state" class="form-control" required />
                </div>

                <div class="form-group mb-2">
                    <label>Pincode</label>
                    <input type="text" name="PIN" class="form-control" required />
                </div>

                <div class="form-group mb-3">
                    <label>Country</label>
                    <input type="text" name="country" class="form-control" required />
                </div>

                <button type="submit" class="btn btn-success">Confirm Payment</button>
            </form>*@
    }
    else
    {
        <p>No items in cart.</p>
    }

    <a href="@Url.Action("Cart", "Home")" class="btn btn-secondary mt-3">Back to Cart</a>
    <a href="@Url.Action("CheckUserAndRedirect", "User")" class="btn btn-success mt-3">Confirm Payment</a>

</section>



<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        const submitButton = form.querySelector("button[type='submit']");

        form.addEventListener("submit", function () {
            submitButton.disabled = true;
            submitButton.innerText = "Processing...";
        });
    });
</script>
